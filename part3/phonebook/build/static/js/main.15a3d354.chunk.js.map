{"version":3,"sources":["components/form.js","components/services/number.js","components/person.js","components/filter.js","app.js","index.js"],"names":["Form","Addpeople","newName","Handlechange","newNumber","HandleNumber","onSubmit","value","onChange","type","baseUrl","axios","get","then","response","data","person","post","id","delete","catch","error","console","log","put","Persons","array","set","map","key","name","number","onClick","window","confirm","noteService","cool","filter","x","del","Filter","useState","newfilter","setFilter","newP","setNew","useEffect","regex","RegExp","match","event","target","Notification","className","Error","App","persons","setPersons","setNewName","setNewNumber","success","setSuccess","setError","initial","preventDefault","search","length","changed","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.15a3d354.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst Form = ({Addpeople,newName,Handlechange,newNumber,HandleNumber}) => {\r\n  return (\r\n    <form onSubmit={Addpeople}>\r\n        <div>\r\n          name: <input \r\n          value = {newName}\r\n          onChange = {Handlechange}\r\n          />\r\n        </div>\r\n        <div>\r\n          number: <input \r\n          value = {newNumber}\r\n          onChange = {HandleNumber}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n  )\r\n}\r\n\r\nexport default Form;\r\n\r\n","import axios from \"axios\"\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getNumber = () => {\r\n    const request = axios.get(baseUrl)\r\n        return request.then((response) => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nconst postNumber = (person) => {\r\n    const post = axios.post(baseUrl, person)\r\n            return post.then((response) => {\r\n                return response.data\r\n            })\r\n}\r\n\r\nconst wipe = (id) => {\r\n        axios.delete(`${baseUrl}/${id}`)\r\n        .catch(error => {\r\n            console.log(\"index not found\");\r\n        })\r\n            \r\n}\r\n\r\nconst update = (id, person) => {\r\n    const responses = axios.put(`${baseUrl}/${id}`, person)\r\n                        return responses.then(response => {\r\n                            return response.data\r\n                        })\r\n}\r\n\r\nexport default {getNumber, postNumber, wipe, update} ","import React from \"react\"\r\nimport noteService from \"./services/number\"\r\n\r\n\r\n\r\nconst Persons = ({array, set}) => {\r\n\r\nconst del = (id, name) => {\r\n    if (window.confirm(`Delete ${name}`)){\r\n        noteService.wipe(id)\r\n        const cool = array.filter(x => x.id !== id)\r\n        set(cool)\r\n    }\r\n}\r\n\r\n    return (\r\n        <>\r\n        {array.map((person) => <p key={person.id}>{person.name} {person.number} <button onClick={() => del(person.id, person.name)}>delete</button></p>)}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Persons;","import React, {useState, useEffect} from \"react\"\r\n\r\n\r\n\r\nconst Filter = ({array}) => {\r\n    const[newfilter, setFilter] = useState(\"\")\r\n    const[newP, setNew] = useState([])\r\n    const handleFilter = (event) => {\r\n        setFilter(event.target.value)\r\n        \r\n        \r\n    }\r\n    useEffect(() => {\r\n            const regex = new RegExp(newfilter, \"gi\");\r\n            const filter = array.filter(person => person.name.match(regex))\r\n            setNew(filter)\r\n            if (newfilter === \"\") {\r\n                setNew([])\r\n            }\r\n    },[newfilter])\r\n    \r\n    return (\r\n        <>\r\n            <form>\r\n                <div>\r\n                    filter shown with: <input onChange={handleFilter} value={newfilter} />\r\n                </div>\r\n            </form>\r\n            {newP.map(x => <p>{x.name} {x.number}</p>)}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Filter;","import React, {useState, useEffect} from 'react'\r\nimport Form from \"./components/form\"\r\nimport Persons from \"./components/person\"\r\nimport Filter from \"./components/filter\"\r\nimport './index.css'\r\nimport noteService from \"./components/services/number\"\r\n\r\nconst Notification = ({name}) => {\r\n  if (name === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"success\">\r\n      {name}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Error = ({error}) => {\r\n  if (error === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"error\">\r\n      {error}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber] = useState(\"\")\r\n  const [ success, setSuccess] = useState(null)\r\n  const [ error, setError] = useState(null)\r\n  useEffect(() => {\r\n      noteService.getNumber()\r\n                  .then(initial => {\r\n                      setPersons(initial)\r\n                  })\r\n  },[])\r\n\r\n  const Addpeople = (event) =>{\r\n    event.preventDefault()\r\n    const search = persons.filter((person) => person.name === newName)\r\n    if (search.length !== 0) {\r\n      if (window.confirm(`${newName} is already in the phonebook, replace the new number with new one`)) {\r\n        const changed = {...search[0], number: newNumber}\r\n        noteService.update(changed.id ,changed)\r\n                    .then(response => {\r\n                      setPersons(persons.map(person => person.id !== changed.id ? person : response))\r\n                    })\r\n                    .catch(error => {\r\n                      setError(`Information of ${newName} has already been removed from the server.` )\r\n                      setTimeout(() => {\r\n                        setError(null)\r\n                      },5000)\r\n                    })\r\n      }\r\n    }\r\n    else {\r\n      const person = {\r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n      noteService.postNumber(person)\r\n                .then(response => {\r\n                  setPersons(persons.concat(response))\r\n                  setSuccess(`Added ${newName}`)\r\n                  setTimeout(() => {\r\n                    setSuccess(null)\r\n                  }, 5000)\r\n                })\r\n                .catch(error => {\r\n                  setError(error.response.data.error)\r\n                  setTimeout(() => {\r\n                    setError(null)\r\n                  }, 5000)\r\n                })\r\n\r\n\r\n      setNewName('')\r\n      setNewNumber('')\r\n\r\n    }\r\n  }\r\n\r\n  const Handlechange = (event) =>{\r\n    setNewName(event.target.value)\r\n  }\r\n\r\nconst HandleNumber = (event) => {\r\n  setNewNumber(event.target.value)\r\n}\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification name={success} />\r\n      <Error error={error} />\r\n      <Filter array={persons}/>\r\n      <h3>Add a new</h3>\r\n      <Form Addpeople={Addpeople} newName={newName} Handlechange={Handlechange} newNumber={newNumber} HandleNumber={HandleNumber} />\r\n      <h2>Numbers</h2>\r\n      <Persons array={persons} set={setPersons} />\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default App\r\n\r\n","import React, {useState} from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './app'\n\n\n\n\nReactDOM.render(<App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}